{"diagram":{"elements":{"elements":{"XSKitdckTT080925":{"linkerType":"broken","lineStyle":{},"name":"linker","from":{"x":458,"y":418,"angle":3.141592653589793,"id":"gBYnIdErmN319265"},"id":"XSKitdckTT080925","text":"","to":{"x":566,"y":418,"angle":0,"id":"ayCaGQJvZC563713"},"locked":false,"group":"","points":[{"x":512,"y":418},{"x":512,"y":418}],"dataAttributes":[],"props":{"zindex":4}},"ayCaGQJvZC563713":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":10,"h":"h-20","y":10},"text":"mTargetRootTask.ensureActivitiesVisible(null&nbsp;/*&nbsp;starting&nbsp;*/,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;/*&nbsp;configChanges&nbsp;*/,&nbsp;!PRESERVE_WINDOWS)<br><div><br></div><div>forAllLeafTasks(task&nbsp;-&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;task.updateActivityVisibilities(starting,&nbsp;configChanges,&nbsp;preserveWindows,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notifyClients);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;true&nbsp;/*&nbsp;traverseTopToBottom&nbsp;*/);<br></div><div><br></div><div>TaskFragment(updateActivityVisibilities<span style=\"font-size: inherit;\">)</span></div><div><span style=\"font-size: inherit;\"><br></span></div><div>mEnsureActivitiesVisibleHelper.process(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;starting,&nbsp;configChanges,&nbsp;preserveWindows,&nbsp;notifyClients);<span style=\"font-size: inherit;\"><br></span></div><div><br></div><div>makeVisibleAndRestartIfNeeded<br></div><div><br></div><div>mTaskFragment.mTaskSupervisor.startSpecificActivity(r,&nbsp;andResume,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true&nbsp;/*&nbsp;checkConfig&nbsp;*/);<br></div><div><br></div><div>mService.startProcessAsync(r,&nbsp;knownToBeDead,&nbsp;isTop,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isTop&nbsp;?&nbsp;HostingRecord.HOSTING_TYPE_TOP_ACTIVITY<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;HostingRecord.HOSTING_TYPE_ACTIVITY);<br></div><div><br></div><div>ActivityManagerService-attachApplicationLocked</div><div><br></div><div>thread.bindApplication<br></div><div><br></div><div>mAtmInternal.attachApplication<br></div><div><br></div><div>ActivityTaskManagerService-attachApplication</div><div><br></div><div><font color=\"#323232\">mEnsureActivitiesVisibleHelper.process</font><br></div><div><font color=\"#323232\"><br></font></div><div>startSpecificActivity<font color=\"#323232\"><br></font></div><div><br></div><div>realStartActivityLocked<br></div><div><br></div><div>clientTransaction.addCallback(LaunchActivityItem)<br></div><div><font color=\"#323232\"><br></font></div><div>LaunchActivityItem.execute<font color=\"#323232\"><br></font></div><div><br></div>"}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"备注","fontStyle":{"size":14,"textAlign":"left","vAlign":"top"},"dataAttributes":[{"name":"序号","id":"lFLqwbhWaW581915","type":"number","category":"default","value":""},{"name":"名称","id":"SxYCllKhdS224376","type":"string","category":"default","value":""},{"name":"所有者","id":"vSKxouBATR134322","type":"string","category":"default","value":""},{"name":"连接","id":"UnaZysxtyd622674","type":"link","category":"default","value":""},{"name":"便笺","id":"iXVLDtMTYt379920","type":"string","category":"default","value":""}],"props":{"zindex":3,"w":589,"x":566,"h":764,"y":36,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w-16","action":"line","y":"0"},{"x":"w","action":"line","y":"16"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"x":"0","action":"line","y":"0"},{"action":"close"}]},{"fillStyle":{"color":"228,208,137","type":"solid"},"actions":[{"x":"w-16","action":"move","y":"0"},{"x":"w-16","action":"line","y":"16"},{"x":"w","action":"line","y":"16"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w-16","action":"line","y":"0"},{"x":"w","action":"line","y":"16"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"x":"0","action":"line","y":"0"},{"action":"close"}]}],"lineStyle":{"lineWidth":0},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"note","fillStyle":{"color":"255, 247, 188"},"theme":{},"id":"ayCaGQJvZC563713","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"basic","locked":false,"group":""},"gBYnIdErmN319265":{"parent":"","link":"","shapeStyle":{"alpha":1},"textBlock":[{"position":{"w":"w-20","x":10,"h":"h-20","y":10},"text":"Instrumentation&nbsp;execStartActivity<br><br>ActivityTaskManagerService&nbsp;&nbsp;startActivityAsUser<br><br>ActivityStarter&nbsp;&nbsp;execute&nbsp;executeRequest&nbsp;startActivityInner<div><div><br></div><div>SplashScreen相关<br><br>Task&nbsp;startActivityLocked<br><br>StartingSurfaceController&nbsp;&nbsp;showStartingWindow<br><br>TaskOrganizerController&nbsp;&nbsp;addStartingWindow</div></div>"}],"anchors":[{"x":"w/2","y":"0"},{"x":"w/2","y":"h"},{"x":"0","y":"h/2"},{"x":"w","y":"h/2"}],"title":"备注","fontStyle":{"size":14,"textAlign":"left","vAlign":"top"},"dataAttributes":[{"name":"序号","id":"DSfKKNKkYQ523379","type":"number","category":"default","value":""},{"name":"名称","id":"wtipYOuOlz627113","type":"string","category":"default","value":""},{"name":"所有者","id":"yXUWPvfTIK740211","type":"string","category":"default","value":""},{"name":"连接","id":"uwijYoGZCC356400","type":"link","category":"default","value":""},{"name":"便笺","id":"ydBmXZDkBH242193","type":"string","category":"default","value":""}],"props":{"zindex":2,"w":404,"x":54,"h":257,"y":289.5,"angle":0},"path":[{"actions":[{"x":"0","action":"move","y":"0"},{"x":"w-16","action":"line","y":"0"},{"x":"w","action":"line","y":"16"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"x":"0","action":"line","y":"0"},{"action":"close"}]},{"fillStyle":{"color":"228,208,137","type":"solid"},"actions":[{"x":"w-16","action":"move","y":"0"},{"x":"w-16","action":"line","y":"16"},{"x":"w","action":"line","y":"16"},{"action":"close"}]},{"fillStyle":{"type":"none"},"actions":[{"x":"0","action":"move","y":"0"},{"x":"w-16","action":"line","y":"0"},{"x":"w","action":"line","y":"16"},{"x":"w","action":"line","y":"h"},{"x":"0","action":"line","y":"h"},{"x":"0","action":"line","y":"0"},{"action":"close"}]}],"lineStyle":{"lineWidth":0},"children":[],"resizeDir":["tl","tr","br","bl","l","t","r","b"],"name":"note","fillStyle":{"color":"255, 247, 188"},"theme":{},"id":"gBYnIdErmN319265","attribute":{"container":false,"rotatable":true,"visible":true,"fixedLink":false,"collapsable":false,"collapsed":false,"linkable":true,"markerOffset":5},"category":"basic","locked":false,"group":""}},"page":{"padding":20,"backgroundColor":"transparent","orientation":"portrait","gridSize":15,"width":1666,"showGrid":true,"lineJumps":false,"height":830},"version":81}},"meta":{"exportTime":"2023-03-26 10:32:04","member":"","diagramInfo":{"creator":"","created":"2023-03-21 15:39:53","modified":"2023-03-21 16:07:00","title":"Activity启动","category":"flow"},"id":"64195f4935246174750604a6","type":"ProcessOn Schema File","version":"1.0"}}